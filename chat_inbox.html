<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Inbox - Oscar's Strategy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            height: calc(100vh - 40px);
            display: flex;
            flex-direction: column;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            color: white;
            text-decoration: none;
        }
        
        .header-info {
            text-align: center;
            flex: 1;
        }
        
        .online-status {
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8em;
        }
        
        .chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f8f9ff;
        }
        
        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .message.sent {
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
            flex-shrink: 0;
        }
        
        .message.sent .message-avatar {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
        }
        
        .message-content {
            max-width: 70%;
            background: white;
            padding: 12px 16px;
            border-radius: 18px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        .message.sent .message-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .message-text {
            margin-bottom: 5px;
        }
        
        .message-time {
            font-size: 0.75em;
            opacity: 0.7;
        }
        
        .message.sent .message-time {
            color: rgba(255, 255, 255, 0.8);
        }
        
        .message-input-area {
            padding: 20px;
            background: white;
            border-top: 1px solid #e1e5ff;
        }
        
        .input-container {
            display: flex;
            gap: 10px;
            align-items: flex-end;
        }
        
        .message-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e1e5ff;
            border-radius: 25px;
            font-size: 1em;
            resize: none;
            min-height: 44px;
            max-height: 120px;
            transition: border-color 0.3s ease;
        }
        
        .message-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .send-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .send-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .quick-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .quick-btn {
            background: #f0f2ff;
            color: #667eea;
            border: 1px solid #e1e5ff;
            padding: 8px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8em;
            transition: all 0.3s ease;
        }
        
        .quick-btn:hover {
            background: #667eea;
            color: white;
        }
        
        .typing-indicator {
            display: none;
            padding: 10px 0;
            font-style: italic;
            color: #666;
            font-size: 0.9em;
        }
        
        .typing-dots {
            display: inline-block;
            animation: typing 1.5s infinite;
        }
        
        @keyframes typing {
            0%, 60%, 100% { opacity: 0; }
            30% { opacity: 1; }
        }
        
        .date-separator {
            text-align: center;
            margin: 20px 0;
            position: relative;
        }
        
        .date-separator::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #e1e5ff;
        }
        
        .date-text {
            background: #f8f9ff;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.8em;
            color: #666;
            position: relative;
            z-index: 1;
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.7em;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                height: calc(100vh - 20px);
                border-radius: 10px;
            }
            
            .header {
                padding: 15px 20px;
            }
            
            .messages-container {
                padding: 15px;
            }
            
            .message-content {
                max-width: 85%;
            }
            
            .message-input-area {
                padding: 15px;
            }
            
            .quick-actions {
                gap: 8px;
            }
            
            .quick-btn {
                font-size: 0.75em;
                padding: 6px 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="back-btn">‚Üê Back</a>
            <div class="header-info">
                <h1>üí¨ Office Team Chat</h1>
                <div class="online-status">üü¢ Online - 3 team members</div>
            </div>
            <div style="width: 60px;"></div> <!-- Spacer for centering -->
        </div>
        
        <div class="chat-area">
            <div class="messages-container" id="messages-container">
                <div class="date-separator">
                    <span class="date-text">Today, October 6, 2025</span>
                </div>
                
                <div class="message">
                    <div class="message-avatar">SM</div>
                    <div class="message-content">
                        <div class="message-text">Good morning Oscar! Ready for your first week of hotel visits? The team is here to support you throughout the day.</div>
                        <div class="message-time">9:00 AM</div>
                    </div>
                </div>
                
                <div class="message">
                    <div class="message-avatar">JD</div>
                    <div class="message-content">
                        <div class="message-text">I've prepared the contact lists for all Mayfair hotels. Claridge's is expecting you at 9:00 AM sharp. Their GM is Sarah Mitchell.</div>
                        <div class="message-time">9:05 AM</div>
                    </div>
                </div>
                
                <div class="message sent">
                    <div class="message-avatar">O</div>
                    <div class="message-content">
                        <div class="message-text">Perfect! Just finished at Claridge's. Great meeting with Sarah. Moving to The Connaught now. Will update after each visit.</div>
                        <div class="message-time">9:28 AM</div>
                    </div>
                </div>
                
                <div class="message">
                    <div class="message-avatar">AL</div>
                    <div class="message-content">
                        <div class="message-text">Excellent! The Connaught's Spa Director is Maria Rodriguez. She's very interested in wellness partnerships. Focus on our massage and physiotherapy services.</div>
                        <div class="message-time">9:30 AM</div>
                    </div>
                </div>
                
                <div class="typing-indicator" id="typing-indicator">
                    <span class="typing-dots">Team is typing...</span>
                </div>
            </div>
            
            <div class="message-input-area">
                <div class="quick-actions">
                    <button class="quick-btn" onclick="insertQuickMessage('Just finished visit at')">üìç Location Update</button>
                    <button class="quick-btn" onclick="insertQuickMessage('Need contact info for')">üìû Contact Request</button>
                    <button class="quick-btn" onclick="insertQuickMessage('High interest in')">‚≠ê High Interest</button>
                    <button class="quick-btn" onclick="insertQuickMessage('Follow-up needed for')">üìã Follow-up</button>
                    <button class="quick-btn" onclick="insertQuickMessage('Running late, ETA')">‚è∞ Running Late</button>
                </div>
                
                <div class="input-container">
                    <textarea 
                        class="message-input" 
                        id="message-input" 
                        placeholder="Type your message to the office team..."
                        rows="1"
                    ></textarea>
                    <button class="send-btn" id="send-btn" onclick="sendMessage()">
                        ‚û§
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let messageCount = 0;
        
        // Initialize chat
        document.addEventListener('DOMContentLoaded', function() {
            const messageInput = document.getElementById('message-input');
            const sendBtn = document.getElementById('send-btn');
            
            // Auto-resize textarea
            messageInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 120) + 'px';
                
                // Enable/disable send button
                sendBtn.disabled = this.value.trim() === '';
            });
            
            // Send message on Enter (but allow Shift+Enter for new line)
            messageInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // Load saved messages
            loadSavedMessages();
            
            // Scroll to bottom
            scrollToBottom();
        });
        
        // Send message
        function sendMessage() {
            const messageInput = document.getElementById('message-input');
            const messageText = messageInput.value.trim();
            
            if (messageText === '') return;
            
            // Add message to chat
            addMessage(messageText, true);
            
            // Clear input
            messageInput.value = '';
            messageInput.style.height = 'auto';
            document.getElementById('send-btn').disabled = true;
            
            // Save message
            saveMessage(messageText, true);
            
            // Simulate team response (in real implementation, this would be real-time)
            setTimeout(() => {
                simulateTeamResponse(messageText);
            }, 1000 + Math.random() * 2000);
        }
        
        // Add message to chat
        function addMessage(text, isSent = false, time = null) {
            const messagesContainer = document.getElementById('messages-container');
            const currentTime = time || new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isSent ? 'sent' : ''}`;
            
            messageDiv.innerHTML = `
                <div class="message-avatar">${isSent ? 'O' : getRandomTeamMember()}</div>
                <div class="message-content">
                    <div class="message-text">${text}</div>
                    <div class="message-time">${currentTime}</div>
                </div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            scrollToBottom();
        }
        
        // Insert quick message
        function insertQuickMessage(text) {
            const messageInput = document.getElementById('message-input');
            messageInput.value = text + ' ';
            messageInput.focus();
            
            // Trigger input event to resize and enable send button
            messageInput.dispatchEvent(new Event('input'));
        }
        
        // Simulate team response
        function simulateTeamResponse(userMessage) {
            const responses = [
                "Got it! Thanks for the update, Oscar.",
                "Great work! Keep us posted on the next visit.",
                "Perfect timing. I'll prepare the follow-up materials.",
                "Excellent! The client sounds very promising.",
                "Thanks for the heads up. I'll send you their contact details.",
                "Wonderful! I'll schedule the follow-up meeting.",
                "Good to know. Safe travels to the next hotel!",
                "That's fantastic news! I'll prepare the proposal.",
                "Understood. Take your time, quality over speed!",
                "Brilliant! This is exactly what we were hoping for."
            ];
            
            // Show typing indicator
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addMessage(randomResponse, false);
                saveMessage(randomResponse, false);
            }, 1500 + Math.random() * 1000);
        }
        
        // Show typing indicator
        function showTypingIndicator() {
            document.getElementById('typing-indicator').style.display = 'block';
            scrollToBottom();
        }
        
        // Hide typing indicator
        function hideTypingIndicator() {
            document.getElementById('typing-indicator').style.display = 'none';
        }
        
        // Get random team member
        function getRandomTeamMember() {
            const members = ['SM', 'JD', 'AL', 'MK', 'RH'];
            return members[Math.floor(Math.random() * members.length)];
        }
        
        // Scroll to bottom
        function scrollToBottom() {
            const messagesContainer = document.getElementById('messages-container');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        // Save message to localStorage
        function saveMessage(text, isSent) {
            const messages = JSON.parse(localStorage.getItem('oscar_chat_messages') || '[]');
            messages.push({
                text: text,
                isSent: isSent,
                timestamp: new Date().toISOString(),
                time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})
            });
            
            // Keep only last 100 messages
            if (messages.length > 100) {
                messages.splice(0, messages.length - 100);
            }
            
            localStorage.setItem('oscar_chat_messages', JSON.stringify(messages));
        }
        
        // Load saved messages
        function loadSavedMessages() {
            const messages = JSON.parse(localStorage.getItem('oscar_chat_messages') || '[]');
            
            // Only load messages from today
            const today = new Date().toDateString();
            const todayMessages = messages.filter(msg => {
                const msgDate = new Date(msg.timestamp).toDateString();
                return msgDate === today;
            });
            
            // Add saved messages (skip the default ones already in HTML)
            todayMessages.forEach(msg => {
                if (msg.timestamp > new Date().setHours(9, 30, 0, 0)) { // After the last default message
                    addMessage(msg.text, msg.isSent, msg.time);
                }
            });
        }
        
        // Clear chat history (for testing)
        function clearChat() {
            if (confirm('Clear all chat history?')) {
                localStorage.removeItem('oscar_chat_messages');
                location.reload();
            }
        }
    </script>
</body>
</html>
