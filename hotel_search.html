<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Search & History - Oscar's Strategy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            color: white;
            text-decoration: none;
        }
        
        .search-content {
            padding: 30px;
        }
        
        .search-section {
            background: #f8f9ff;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
        }
        
        .search-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .search-input {
            flex: 1;
            min-width: 250px;
            padding: 12px;
            border: 2px solid #e1e5ff;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .search-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }
        
        .filter-btn:hover, .filter-btn.active {
            background: #667eea;
            color: white;
        }
        
        .hotels-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .hotel-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .hotel-card:hover {
            transform: translateY(-5px);
            border-color: #667eea;
        }
        
        .hotel-header {
            padding: 20px;
            background: linear-gradient(135deg, #f8f9ff 0%, #e8ecff 100%);
        }
        
        .hotel-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        
        .hotel-location {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        
        .hotel-priority {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .priority-p1 {
            background: #e74c3c;
            color: white;
        }
        
        .priority-p2 {
            background: #f39c12;
            color: white;
        }
        
        .priority-p3 {
            background: #3498db;
            color: white;
        }
        
        .hotel-body {
            padding: 20px;
        }
        
        .hotel-details {
            margin-bottom: 15px;
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9em;
        }
        
        .detail-label {
            color: #666;
        }
        
        .detail-value {
            font-weight: 500;
            color: #333;
        }
        
        .hotel-actions {
            display: flex;
            gap: 10px;
        }
        
        .visit-btn {
            flex: 1;
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
        }
        
        .visit-btn:hover {
            transform: translateY(-2px);
            color: white;
            text-decoration: none;
        }
        
        .history-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }
        
        .history-btn:hover {
            background: #5a6fd8;
        }
        
        .stats-section {
            background: #f8f9ff;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .stat-item {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            color: #666;
        }
        
        .no-results-icon {
            font-size: 3em;
            margin-bottom: 15px;
            opacity: 0.5;
        }
        
        @media (max-width: 768px) {
            .search-bar {
                flex-direction: column;
            }
            
            .search-input {
                min-width: auto;
            }
            
            .hotels-grid {
                grid-template-columns: 1fr;
            }
            
            .hotel-actions {
                flex-direction: column;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .container {
                margin: 10px;
                border-radius: 10px;
            }
            
            .search-content {
                padding: 20px;
            }
        }
    </style>

    <style>
        /* Mobile-First Responsive Design for Hotel Search */
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px;
        }
        
        /* Header Styles */
        .header {
            text-align: center;
            color: white;
            padding: 20px 10px;
        }
        
        .header h1 {
            font-size: 24px;
            margin: 0 0 10px 0;
        }
        
        .header p {
            font-size: 14px;
            margin: 0;
            opacity: 0.9;
        }
        
        /* Back Button */
        .back-button {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            margin-bottom: 20px;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .back-button:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }
        
        /* Strategy Overview Cards */
        .strategy-overview {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .strategy-overview h2 {
            margin: 0 0 20px 0;
            color: #333;
            font-size: 18px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #dee2e6;
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 12px;
            color: #6c757d;
            margin: 0;
        }
        
        /* Search Section */
        .search-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .search-section h2 {
            margin: 0 0 20px 0;
            color: #333;
            font-size: 18px;
        }
        
        /* Search Bar */
        .search-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .search-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s ease;
        }
        
        .search-input:focus {
            border-color: #667eea;
        }
        
        .search-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 80px;
        }
        
        .search-button:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }
        
        /* Filter Buttons */
        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .filter-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            color: #495057;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            min-height: 44px; /* Minimum touch target size */
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
            transform: translateY(-1px);
        }
        
        /* Hotel Cards Grid */
        .hotels-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .hotel-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 1px solid #e9ecef;
        }
        
        .hotel-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .hotel-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .hotel-name {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin: 0 0 5px 0;
        }
        
        .hotel-location {
            color: #6c757d;
            font-size: 14px;
            margin: 0;
        }
        
        .priority-badge {
            background: #dc3545;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .priority-badge.p1 {
            background: #28a745;
        }
        
        .priority-badge.p2 {
            background: #ffc107;
            color: #333;
        }
        
        .priority-badge.p3 {
            background: #6c757d;
        }
        
        .hotel-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .hotel-detail {
            font-size: 14px;
            color: #495057;
        }
        
        .hotel-detail strong {
            color: #333;
        }
        
        .stars {
            color: #ffc107;
            font-size: 16px;
        }
        
        .hotel-actions {
            display: flex;
            gap: 10px;
        }
        
        .action-btn {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
            min-height: 44px; /* Minimum touch target size */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .visit-form-btn {
            background: #28a745;
            color: white;
        }
        
        .visit-form-btn:hover {
            background: #218838;
            transform: translateY(-2px);
        }
        
        .history-btn {
            background: #667eea;
            color: white;
        }
        
        .history-btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }
        
        /* Tablet Styles */
        @media (min-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 32px;
            }
            
            .header p {
                font-size: 16px;
            }
            
            .hotels-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .search-bar {
                max-width: 600px;
            }
        }
        
        /* Desktop Styles */
        @media (min-width: 1024px) {
            .hotels-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .hotel-actions {
                flex-direction: row;
            }
            
            .filter-buttons {
                justify-content: flex-start;
            }
        }
        
        /* Large Desktop */
        @media (min-width: 1200px) {
            .hotels-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        /* Loading and Empty States */
        .loading {
            text-align: center;
            padding: 40px;
            color: #6c757d;
            font-size: 16px;
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            color: #6c757d;
        }
        
        .no-results h3 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        /* Accessibility Improvements */
        .filter-btn:focus,
        .search-button:focus,
        .action-btn:focus {
            outline: 2px solid #667eea;
            outline-offset: 2px;
        }
        
        /* Animation for smooth transitions */
        .hotel-card,
        .filter-btn,
        .action-btn {
            will-change: transform;
        }
    </style>
    
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="back-btn">← Back to Dashboard</a>
            <h1>🏨 Hotel Search & History</h1>
            <p>Complete database of luxury hotels in Oscar's strategy</p>
        </div>
        
        <div class="search-content">
            <!-- Statistics Overview -->
            <div class="stats-section">
                <h2 style="margin-bottom: 20px; color: #333;">📊 Strategy Overview</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="total-hotels">60</div>
                        <div class="stat-label">Total Hotels</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="p1-hotels">24</div>
                        <div class="stat-label">Priority 1 Hotels</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="p2-hotels">20</div>
                        <div class="stat-label">Priority 2 Hotels</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="p3-hotels">16</div>
                        <div class="stat-label">Priority 3 Hotels</div>
                    </div>
                </div>
            </div>
            
            <!-- Search Section -->
            <div class="search-section">
                <h2 style="margin-bottom: 20px; color: #333;">🔍 Search Hotels</h2>
                <div class="search-bar">
                    <input type="text" class="search-input" id="search-input" placeholder="Search by hotel name, location, or area...">
                    <button class="search-btn" onclick="searchHotels()">Search</button>
                </div>
                <div class="filters">
                    <button class="filter-btn active" onclick="filterHotels('all')">All Hotels</button>
                    <button class="filter-btn" onclick="filterHotels('p1')">Priority 1</button>
                    <button class="filter-btn" onclick="filterHotels('p2')">Priority 2</button>
                    <button class="filter-btn" onclick="filterHotels('p3')">Priority 3</button>
                    <button class="filter-btn" onclick="filterHotels('mayfair')">Mayfair</button>
                    <button class="filter-btn" onclick="filterHotels('knightsbridge')">Knightsbridge</button>
                    <button class="filter-btn" onclick="filterHotels('kensington')">Kensington</button>
                    <button class="filter-btn" onclick="filterHotels('city')">City</button>
                </div>
            </div>
            
            <!-- Hotels Grid -->
            <div class="hotels-grid" id="hotels-grid">
                <!-- Hotels will be populated by JavaScript -->
            </div>
            
            <div class="no-results" id="no-results" style="display: none;">
                <div class="no-results-icon">🔍</div>
                <h3>No Hotels Found</h3>
                <p>Try adjusting your search criteria or filters.</p>
            </div>
        </div>
    </div>
    
    <script>
        // Hotel database
        const hotels = [
            // Mayfair Priority 1
            { id: 'claridges', name: 'Claridge\'s', location: 'Brook Street, Mayfair', area: 'mayfair', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'connaught', name: 'The Connaught', location: 'Carlos Place, Mayfair', area: 'mayfair', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'dorchester', name: 'The Dorchester', location: 'Park Lane, Mayfair', area: 'mayfair', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'ritz', name: 'The Ritz London', location: 'Piccadilly, Mayfair', area: 'mayfair', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'four-seasons-mayfair', name: 'Four Seasons Hotel London at Mayfair', location: 'Hamilton Place, Mayfair', area: 'mayfair', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'brown-hotel', name: 'Brown\'s Hotel', location: 'Albemarle Street, Mayfair', area: 'mayfair', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            
            // Park Lane Priority 1
            { id: 'four-seasons-park-lane', name: 'Four Seasons Hotel London at Park Lane', location: 'Hamilton Place, Park Lane', area: 'park-lane', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: '45-park-lane', name: '45 Park Lane', location: 'Dorchester Collection, Park Lane', area: 'park-lane', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'intercontinental-park-lane', name: 'InterContinental London Park Lane', location: 'One Hamilton Place, Park Lane', area: 'park-lane', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            
            // Knightsbridge Priority 1
            { id: 'mandarin-oriental', name: 'Mandarin Oriental Hyde Park', location: '66 Knightsbridge', area: 'knightsbridge', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'berkeley', name: 'The Berkeley', location: 'Wilton Place, Knightsbridge', area: 'knightsbridge', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'bulgari', name: 'Bulgari Hotel London', location: '171 Knightsbridge', area: 'knightsbridge', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'jumeirah-carlton', name: 'Jumeirah Carlton Tower', location: 'Cadogan Place, Knightsbridge', area: 'knightsbridge', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            
            // Marylebone Priority 1
            { id: 'langham', name: 'The Langham London', location: '1C Portland Place, Marylebone', area: 'marylebone', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'beaumont', name: 'The Beaumont', location: 'Brown Hart Gardens, Marylebone', area: 'marylebone', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'hyatt-churchill', name: 'Hyatt Regency London – The Churchill', location: '30 Portman Square, Marylebone', area: 'marylebone', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            
            // Kensington Priority 1
            { id: 'kensington-hotel', name: 'The Kensington Hotel', location: '109-113 Queen\'s Gate, Kensington', area: 'kensington', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'milestone', name: 'The Milestone Hotel', location: '1 Kensington Court, Kensington', area: 'kensington', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'royal-garden', name: 'Royal Garden Hotel', location: '2-24 Kensington High Street', area: 'kensington', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            
            // City Priority 1
            { id: 'four-seasons-ten-trinity', name: 'Four Seasons Hotel London at Ten Trinity Square', location: '10 Trinity Square, City', area: 'city', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'ned', name: 'The Ned', location: '27 Poultry, City', area: 'city', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'shangri-la-shard', name: 'Shangri-La Hotel at The Shard', location: '31 St Thomas Street, London Bridge', area: 'city', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            
            // Central London Priority 1
            { id: 'savoy', name: 'The Savoy', location: 'Strand, Covent Garden', area: 'covent-garden', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'rosewood', name: 'Rosewood London', location: '252 High Holborn', area: 'holborn', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            { id: 'edition-london', name: 'EDITION London', location: '10 Berners Street, Fitzrovia', area: 'fitzrovia', priority: 'p1', stars: 5, type: 'Luxury Hotel' },
            
            // Priority 2 - Luxury Serviced Apartments
            { id: 'clarges-mayfair', name: 'Clarges Mayfair', location: 'Clarges Street, Mayfair', area: 'mayfair', priority: 'p2', stars: 5, type: 'Serviced Apartments' },
            { id: 'cheval-three-quays', name: 'Cheval Three Quays', location: '40 Lower Thames Street, City', area: 'city', priority: 'p2', stars: 5, type: 'Serviced Apartments' },
            { id: 'cheval-calico-house', name: 'Cheval Calico House', location: '42 Bow Lane, City', area: 'city', priority: 'p2', stars: 5, type: 'Serviced Apartments' },
            { id: 'cheval-gloucester-park', name: 'Cheval Gloucester Park', location: '4-6 Stanhope Terrace, Bayswater', area: 'bayswater', priority: 'p2', stars: 5, type: 'Serviced Apartments' },
            { id: 'marlin-aldgate', name: 'Marlin Apartments Aldgate', location: '9-15 Aldgate High Street', area: 'aldgate', priority: 'p2', stars: 4, type: 'Serviced Apartments' },
            { id: 'fraser-suites', name: 'Fraser Suites Queens Gate', location: '39 Queen\'s Gate Gardens, Kensington', area: 'kensington', priority: 'p2', stars: 5, type: 'Serviced Apartments' },
            { id: 'citadines-holborn', name: 'Citadines Holborn-Covent Garden London', location: '94-99 High Holborn', area: 'holborn', priority: 'p2', stars: 4, type: 'Serviced Apartments' },
            { id: 'citadines-trafalgar', name: 'Citadines Trafalgar Square London', location: '18-21 Northumberland Avenue', area: 'trafalgar-square', priority: 'p2', stars: 4, type: 'Serviced Apartments' },
            { id: 'staybridge-vauxhall', name: 'Staybridge Suites London Vauxhall', location: '100 Vauxhall Walk, Vauxhall', area: 'vauxhall', priority: 'p2', stars: 4, type: 'Serviced Apartments' },
            { id: 'residence-inn-kensington', name: 'Residence Inn by Marriott London Kensington', location: '181-183 Warwick Road, Kensington', area: 'kensington', priority: 'p2', stars: 4, type: 'Serviced Apartments' },
            
            // Priority 3 - 4-Star Boutique Hotels
            { id: 'zetter-townhouse-marylebone', name: 'The Zetter Townhouse Marylebone', location: '28-30 Seymour Street, Marylebone', area: 'marylebone', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'zetter-townhouse-clerkenwell', name: 'The Zetter Townhouse Clerkenwell', location: '49-50 St John\'s Square, Clerkenwell', area: 'clerkenwell', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'ham-yard', name: 'Ham Yard Hotel', location: '1 Ham Yard, Piccadilly Circus', area: 'piccadilly', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'charlotte-street', name: 'Charlotte Street Hotel', location: '15-17 Charlotte Street, Fitzrovia', area: 'fitzrovia', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'haymarket', name: 'Haymarket Hotel', location: '1 Suffolk Place, Haymarket', area: 'haymarket', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'covent-garden-hotel', name: 'Covent Garden Hotel', location: '10 Monmouth Street, Covent Garden', area: 'covent-garden', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'soho-hotel', name: 'Soho Hotel', location: '4 Richmond Mews, Soho', area: 'soho', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'dean-street-townhouse', name: 'Dean Street Townhouse', location: '69-71 Dean Street, Soho', area: 'soho', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'hazlitt', name: 'Hazlitt\'s Hotel', location: '6 Frith Street, Soho', area: 'soho', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'sanderson', name: 'Sanderson London', location: '50 Berners Street, Fitzrovia', area: 'fitzrovia', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'st-martins-lane', name: 'St Martins Lane London', location: '45 St Martin\'s Lane, Covent Garden', area: 'covent-garden', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'mondrian-london', name: 'Mondrian London', location: '20 Upper Ground, South Bank', area: 'south-bank', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'sea-containers', name: 'Sea Containers London', location: '20 Upper Ground, South Bank', area: 'south-bank', priority: 'p3', stars: 4, type: 'Boutique Hotel' },
            { id: 'corinthia', name: 'Corinthia London', location: 'Whitehall Place, Westminster', area: 'westminster', priority: 'p3', stars: 5, type: 'Luxury Hotel' },
            { id: 'st-pancras-renaissance', name: 'St. Pancras Renaissance Hotel London', location: 'Euston Road, King\'s Cross', area: 'kings-cross', priority: 'p3', stars: 5, type: 'Historic Hotel' },
            { id: 'great-northern', name: 'The Great Northern Hotel', location: 'Pancras Road, King\'s Cross', area: 'kings-cross', priority: 'p3', stars: 4, type: 'Boutique Hotel' }
        ];
        
        let currentFilter = 'all';
        let filteredHotels = [...hotels];
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            displayHotels(hotels);
            updateStats();
            
            // Set up search input
            document.getElementById('search-input').addEventListener('input', searchHotels);
        });
        
        // Display hotels
        function displayHotels(hotelsToShow) {
            const grid = document.getElementById('hotels-grid');
            const noResults = document.getElementById('no-results');
            
            if (hotelsToShow.length === 0) {
                grid.style.display = 'none';
                noResults.style.display = 'block';
                return;
            }
            
            grid.style.display = 'grid';
            noResults.style.display = 'none';
            
            grid.innerHTML = hotelsToShow.map(hotel => `
                <div class="hotel-card">
                    <div class="hotel-header">
                        <div class="hotel-name">${hotel.name}</div>
                        <div class="hotel-location">📍 ${hotel.location}</div>
                        <span class="hotel-priority priority-${hotel.priority}">Priority ${hotel.priority.toUpperCase()}</span>
                    </div>
                    <div class="hotel-body">
                        <div class="hotel-details">
                            <div class="detail-row">
                                <span class="detail-label">Type:</span>
                                <span class="detail-value">${hotel.type}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Stars:</span>
                                <span class="detail-value">${'⭐'.repeat(hotel.stars)}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Area:</span>
                                <span class="detail-value">${formatArea(hotel.area)}</span>
                            </div>
                </div>
                        <div class="hotel-actions">
                            <a href="forms/${hotel.id}_form.html" class="visit-btn">📋 Visit Form</a>
                            <button class="history-btn" onclick="showHistory('${hotel.id}')">📊 History</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        // Search hotels
        function searchHotels() {
           const query = document.getElementById(\'search-input\').value.toLowerCase();
            if (query.length > 0 && query.length < 3) {
                displayHotels([]);
                return;
            }            let results = hotels;
            
            if (query) {
                results = hotels.filter(hotel => 
                    hotel.name.toLowerCase().includes(query) ||
                    hotel.location.toLowerCase().includes(query) ||
                    hotel.area.toLowerCase().includes(query) ||
                    hotel.type.toLowerCase().includes(query)
                );
            }
            
            // Apply current filter
            if (currentFilter !== 'all') {
                results = results.filter(hotel => {
                    if (currentFilter === 'p1' || currentFilter === 'p2' || currentFilter === 'p3') {
                        return hotel.priority === currentFilter;
                    }
                    return hotel.area === currentFilter;
                });
            }
            
            filteredHotels = results;
            displayHotels(results);
        }
        
        // Filter hotels
        function filterHotels(filter) {
            currentFilter = filter;
            
            // Update active filter button
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            let results = hotels;
            
            if (filter !== 'all') {
                results = hotels.filter(hotel => {
                    if (filter === 'p1' || filter === 'p2' || filter === 'p3') {
                        return hotel.priority === filter;
                    }
                    return hotel.area === filter;
                });
            }
            
            // Apply search query if exists
            const query = document.getElementById('search-input').value.toLowerCase();
            if (query) {
                results = results.filter(hotel => 
                    hotel.name.toLowerCase().includes(query) ||
                    hotel.location.toLowerCase().includes(query) ||
                    hotel.area.toLowerCase().includes(query) ||
                    hotel.type.toLowerCase().includes(query)
                );
            }
            
            filteredHotels = results;
            displayHotels(results);
        }
        
        // Show hotel history
        function showHistory(hotelId) {
            const hotel = hotels.find(h => h.id === hotelId);
            if (hotel) {
                alert(`Visit History for ${hotel.name}\n\nThis feature will show:\n• Previous visit dates\n• Contact history\n• Transaction records\n• Follow-up status\n\n(Feature coming soon)`);
            }
        }
        
        // Update statistics
        function updateStats() {
            const p1Count = hotels.filter(h => h.priority === 'p1').length;
            const p2Count = hotels.filter(h => h.priority === 'p2').length;
            const p3Count = hotels.filter(h => h.priority === 'p3').length;
            
            document.getElementById('total-hotels').textContent = hotels.length;
            document.getElementById('p1-hotels').textContent = p1Count;
            document.getElementById('p2-hotels').textContent = p2Count;
            document.getElementById('p3-hotels').textContent = p3Count;
        }
        
        // Format area name
        function formatArea(area) {
            return area.split('-').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1)
            ).join(' ');
        }
    
        function showVisitHistory(hotelName) {
            try {
                // Get all visits for this hotel from localStorage
                const visitsIndex = JSON.parse(localStorage.getItem('oscar_visits_index') || '[]');
                const hotelVisits = visitsIndex.filter(visit => 
                    visit.hotelName.toLowerCase() === hotelName.toLowerCase()
                );
                
                // Get hotel statistics
                const hotelStats = JSON.parse(localStorage.getItem('oscar_hotel_stats') || '{}');
                const stats = hotelStats[hotelName] || {
                    totalVisits: 0,
                    successfulMeetings: 0,
                    followUpRequired: 0,
                    notInterested: 0,
                    rescheduleNeeded: 0
                };
                
                // Create visit history modal
                const modal = document.createElement('div');
                modal.id = 'visitHistoryModal';
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.8);
                    z-index: 10000;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    padding: 20px;
                    box-sizing: border-box;
                `;
                
                const modalContent = document.createElement('div');
                modalContent.style.cssText = `
                    background: white;
                    border-radius: 15px;
                    max-width: 800px;
                    width: 100%;
                    max-height: 90vh;
                    overflow-y: auto;
                    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
                `;
                
                // Create visit history content
                let historyHTML = `
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 15px 15px 0 0;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <h2 style="margin: 0; font-size: 24px;">📋 Visit History: ${hotelName}</h2>
                            <button onclick="closeVisitHistory()" style="background: rgba(255,255,255,0.2); color: white; border: none; padding: 8px 15px; border-radius: 20px; cursor: pointer; font-size: 16px;">✕ Close</button>
                        </div>
                    </div>
                    
                    <div style="padding: 25px;">
                        <!-- Statistics Summary -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 25px;">
                            <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: #1976d2;">${stats.totalVisits}</div>
                                <div style="color: #666; font-size: 14px;">Total Visits</div>
                            </div>
                            <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: #388e3c;">${stats.successfulMeetings}</div>
                                <div style="color: #666; font-size: 14px;">Successful</div>
                            </div>
                            <div style="background: #fff3e0; padding: 15px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: #f57c00;">${stats.followUpRequired}</div>
                                <div style="color: #666; font-size: 14px;">Follow-up</div>
                            </div>
                            <div style="background: #fce4ec; padding: 15px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: #c2185b;">${stats.notInterested}</div>
                                <div style="color: #666; font-size: 14px;">Not Interested</div>
                            </div>
                        </div>
                `;
                
                if (hotelVisits.length === 0) {
                    historyHTML += `
                        <div style="text-align: center; padding: 40px; color: #666;">
                            <div style="font-size: 48px; margin-bottom: 15px;">📝</div>
                            <h3>No Visit History Yet</h3>
                            <p>This hotel hasn't been visited yet. Start by creating a new visit form!</p>
                            <button onclick="createNewVisit('${hotelName}')" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-size: 16px; margin-top: 15px;">
                                📋 Create New Visit
                            </button>
                        </div>
                    `;
                } else {
                    historyHTML += `
                        <h3 style="color: #333; margin-bottom: 20px;">📅 Visit Records (${hotelVisits.length})</h3>
                        <div style="space-y: 15px;">
                    `;
                    
                    // Sort visits by date (newest first)
                    hotelVisits.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
                    
                    hotelVisits.forEach((visit, index) => {
                        const visitDate = new Date(visit.visitDateTime || visit.createdAt);
                        const formattedDate = visitDate.toLocaleDateString('en-GB', {
                            weekday: 'short',
                            year: 'numeric',
                            month: 'short',
                            day: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        });
                        
                        const outcomeColor = {
                            'Successful Meeting': '#4caf50',
                            'Follow-up Required': '#ff9800',
                            'Not Interested': '#f44336',
                            'Reschedule Needed': '#2196f3'
                        }[visit.visitOutcome] || '#666';
                        
                        historyHTML += `
                            <div style="border: 1px solid #e0e0e0; border-radius: 10px; padding: 20px; margin-bottom: 15px; background: #fafafa;">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                                    <div>
                                        <h4 style="margin: 0; color: #333; font-size: 16px;">👤 ${visit.contactName || 'Unknown Contact'}</h4>
                                        <p style="margin: 5px 0; color: #666; font-size: 14px;">📅 ${formattedDate}</p>
                                    </div>
                                    <span style="background: ${outcomeColor}; color: white; padding: 4px 12px; border-radius: 15px; font-size: 12px; font-weight: bold;">
                                        ${visit.visitOutcome}
                                    </span>
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; font-size: 14px; color: #666;">
                                    <div><strong>Visit ID:</strong> ${visit.visitId.split('_')[1]}</div>
                                    <div><strong>Created:</strong> ${new Date(visit.createdAt).toLocaleDateString()}</div>
                                </div>
                                <div style="margin-top: 15px;">
                                    <button onclick="viewVisitDetails('${visit.visitId}')" style="background: #2196f3; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-size: 12px; margin-right: 10px;">
                                        👁️ View Details
                                    </button>
                                    <button onclick="editVisit('${visit.visitId}')" style="background: #ff9800; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-size: 12px; margin-right: 10px;">
                                        ✏️ Edit
                                    </button>
                                    <button onclick="deleteVisit('${visit.visitId}')" style="background: #f44336; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-size: 12px;">
                                        🗑️ Delete
                                    </button>
                                </div>
                            </div>
                        `;
                    });
                    
                    historyHTML += `
                        </div>
                        <div style="text-align: center; margin-top: 25px;">
                            <button onclick="createNewVisit('${hotelName}')" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-size: 16px;">
                                ➕ Add New Visit
                            </button>
                        </div>
                    `;
                }
                
                historyHTML += `
                    </div>
                `;
                
                modalContent.innerHTML = historyHTML;
                modal.appendChild(modalContent);
                document.body.appendChild(modal);
                
                // Add click outside to close
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        closeVisitHistory();
                    }
                });
                
            } catch (error) {
                console.error('Error showing visit history:', error);
                alert('Error loading visit history. Please try again.');
            }
        }
        
        function closeVisitHistory() {
            const modal = document.getElementById('visitHistoryModal');
            if (modal) {
                modal.remove();
            }
        }
        
        function viewVisitDetails(visitId) {
            try {
                const visitData = JSON.parse(localStorage.getItem(visitId));
                if (!visitData) {
                    alert('Visit details not found.');
                    return;
                }
                
                const detailsHTML = `
                    <div style="background: white; padding: 20px; border-radius: 10px; max-width: 600px; margin: 20px auto;">
                        <h3>📋 Visit Details</h3>
                        <div style="display: grid; gap: 10px; font-size: 14px;">
                            <div><strong>Hotel:</strong> ${visitData.hotelName}</div>
                            <div><strong>Contact:</strong> ${visitData.contactName}</div>
                            <div><strong>Role:</strong> ${visitData.contactRole || 'N/A'}</div>
                            <div><strong>Email:</strong> ${visitData.contactEmail || 'N/A'}</div>
                            <div><strong>Phone:</strong> ${visitData.contactPhone || 'N/A'}</div>
                            <div><strong>Visit Date:</strong> ${visitData.visitDateTime ? new Date(visitData.visitDateTime).toLocaleString() : 'N/A'}</div>
                            <div><strong>Outcome:</strong> ${visitData.visitOutcome}</div>
                            <div><strong>Summary:</strong> ${visitData.visitSummary || 'No summary provided'}</div>
                            <div><strong>Next Visit:</strong> ${visitData.nextVisitDate || 'Not scheduled'}</div>
                        </div>
                        <button onclick="closeVisitHistory()" style="background: #667eea; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 15px;">
                            Close
                        </button>
                    </div>
                `;
                
                const modal = document.getElementById('visitHistoryModal');
                if (modal) {
                    modal.querySelector('div').innerHTML = detailsHTML;
                }
            } catch (error) {
                console.error('Error viewing visit details:', error);
                alert('Error loading visit details.');
            }
        }
        
        function editVisit(visitId) {
            try {
                const visitData = JSON.parse(localStorage.getItem(visitId));
                if (!visitData) {
                    alert('Visit data not found.');
                    return;
                }
                
                // Navigate to the appropriate form with the visit data
                const hotelFormName = visitData.hotelName.toLowerCase().replace(/[^a-z0-9]/g, '_') + '_form.html';
                const formUrl = `forms/${hotelFormName}?edit=${visitId}`;
                
                window.location.href = formUrl;
            } catch (error) {
                console.error('Error editing visit:', error);
                alert('Error opening visit for editing.');
            }
        }
        
        function deleteVisit(visitId) {
            if (confirm('Are you sure you want to delete this visit record? This action cannot be undone.')) {
                try {
                    // Remove from localStorage
                    localStorage.removeItem(visitId);
                    
                    // Update visits index
                    let visitsIndex = JSON.parse(localStorage.getItem('oscar_visits_index') || '[]');
                    visitsIndex = visitsIndex.filter(visit => visit.visitId !== visitId);
                    localStorage.setItem('oscar_visits_index', JSON.stringify(visitsIndex));
                    
                    // Refresh the history display
                    closeVisitHistory();
                    setTimeout(() => {
                        const hotelName = visitId.includes('_') ? 'Hotel' : 'Hotel'; // Get hotel name from context
                        // We'll need to get the hotel name from the current context
                    }, 100);
                    
                    alert('Visit record deleted successfully.');
                } catch (error) {
                    console.error('Error deleting visit:', error);
                    alert('Error deleting visit record.');
                }
            }
        }
        
        function createNewVisit(hotelName) {
            try {
                const hotelFormName = hotelName.toLowerCase().replace(/[^a-z0-9]/g, '_') + '_form.html';
                window.location.href = `forms/${hotelFormName}`;
            } catch (error) {
                console.error('Error creating new visit:', error);
                alert('Error opening new visit form.');
            }
        }
        
</script>

        <script>
        // Hotel search functionality
        document.addEventListener('DOMContentLoaded', function() {
            loadVisitHistory();
            setupSearchFunctionality();
        });
        
        function setupSearchFunctionality() {
            const searchInput = document.querySelector('input[placeholder*="Search"]');
            const searchBtn = document.querySelector('button:contains("Search")');
            
            if (searchInput && searchBtn) {
                searchBtn.addEventListener('click', performSearch);
                searchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        performSearch();
                    }
                });
            }
        }
        
        function performSearch() {
            const searchTerm = document.querySelector('input[placeholder*="Search"]').value.toLowerCase();
            const hotelCards = document.querySelectorAll('.hotel-card');
            
            hotelCards.forEach(card => {
                const hotelName = card.querySelector('h3').textContent.toLowerCase();
                const hotelLocation = card.querySelector('.location').textContent.toLowerCase();
                
                if (hotelName.includes(searchTerm) || hotelLocation.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        function loadVisitHistory() {
            const visitsIndex = JSON.parse(localStorage.getItem('oscar_visits_index') || '[]');
            const hotelStats = JSON.parse(localStorage.getItem('oscar_hotel_stats') || '{}');
            
            // Update history buttons with actual data
            document.querySelectorAll('button:contains("History")').forEach(historyBtn => {
                const hotelCard = historyBtn.closest('.hotel-card');
                const hotelName = hotelCard.querySelector('h3').textContent;
                
                if (hotelStats[hotelName]) {
                    const stats = hotelStats[hotelName];
                    historyBtn.textContent = `📊 History (${stats.totalVisits})`;
                    historyBtn.onclick = () => showHotelHistory(hotelName);
                } else {
                    historyBtn.textContent = '📊 No History';
                    historyBtn.disabled = true;
                    historyBtn.style.opacity = '0.5';
                }
            });
        }
        
        function showHotelHistory(hotelName) {
            const visitsIndex = JSON.parse(localStorage.getItem('oscar_visits_index') || '[]');
            const hotelVisits = visitsIndex.filter(visit => visit.hotelName === hotelName);
            
            if (hotelVisits.length === 0) {
                alert('No visit history found for ' + hotelName);
                return;
            }
            
            let historyHtml = `<h3>Visit History for ${hotelName}</h3>`;
            hotelVisits.forEach(visit => {
                historyHtml += `
                    <div style="border: 1px solid #ddd; padding: 10px; margin: 10px 0; border-radius: 5px;">
                        <strong>Contact:</strong> ${visit.contactName}<br>
                        <strong>Date:</strong> ${new Date(visit.visitDateTime).toLocaleDateString()}<br>
                        <strong>Outcome:</strong> ${visit.visitOutcome}<br>
                        <strong>Recorded:</strong> ${new Date(visit.createdAt).toLocaleDateString()}
                    </div>
                `;
            });
            
            const popup = window.open('', '_blank', 'width=600,height=400');
            popup.document.write(`
                <html>
                <head><title>Visit History - ${hotelName}</title>
    <style>
        /* Mobile-First Responsive Design for Hotel Search */
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px;
        }
        
        /* Header Styles */
        .header {
            text-align: center;
            color: white;
            padding: 20px 10px;
        }
        
        .header h1 {
            font-size: 24px;
            margin: 0 0 10px 0;
        }
        
        .header p {
            font-size: 14px;
            margin: 0;
            opacity: 0.9;
        }
        
        /* Back Button */
        .back-button {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            margin-bottom: 20px;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .back-button:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }
        
        /* Strategy Overview Cards */
        .strategy-overview {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .strategy-overview h2 {
            margin: 0 0 20px 0;
            color: #333;
            font-size: 18px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #dee2e6;
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 12px;
            color: #6c757d;
            margin: 0;
        }
        
        /* Search Section */
        .search-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .search-section h2 {
            margin: 0 0 20px 0;
            color: #333;
            font-size: 18px;
        }
        
        /* Search Bar */
        .search-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .search-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s ease;
        }
        
        .search-input:focus {
            border-color: #667eea;
        }
        
        .search-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 80px;
        }
        
        .search-button:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }
        
        /* Filter Buttons */
        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .filter-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            color: #495057;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            min-height: 44px; /* Minimum touch target size */
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
            transform: translateY(-1px);
        }
        
        /* Hotel Cards Grid */
        .hotels-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .hotel-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 1px solid #e9ecef;
        }
        
        .hotel-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .hotel-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .hotel-name {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin: 0 0 5px 0;
        }
        
        .hotel-location {
            color: #6c757d;
            font-size: 14px;
            margin: 0;
        }
        
        .priority-badge {
            background: #dc3545;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .priority-badge.p1 {
            background: #28a745;
        }
        
        .priority-badge.p2 {
            background: #ffc107;
            color: #333;
        }
        
        .priority-badge.p3 {
            background: #6c757d;
        }
        
        .hotel-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .hotel-detail {
            font-size: 14px;
            color: #495057;
        }
        
        .hotel-detail strong {
            color: #333;
        }
        
        .stars {
            color: #ffc107;
            font-size: 16px;
        }
        
        .hotel-actions {
            display: flex;
            gap: 10px;
        }
        
        .action-btn {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
            min-height: 44px; /* Minimum touch target size */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .visit-form-btn {
            background: #28a745;
            color: white;
        }
        
        .visit-form-btn:hover {
            background: #218838;
            transform: translateY(-2px);
        }
        
        .history-btn {
            background: #667eea;
            color: white;
        }
        
        .history-btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }
        
        /* Tablet Styles */
        @media (min-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 32px;
            }
            
            .header p {
                font-size: 16px;
            }
            
            .hotels-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .search-bar {
                max-width: 600px;
            }
        }
        
        /* Desktop Styles */
        @media (min-width: 1024px) {
            .hotels-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .hotel-actions {
                flex-direction: row;
            }
            
            .filter-buttons {
                justify-content: flex-start;
            }
        }
        
        /* Large Desktop */
        @media (min-width: 1200px) {
            .hotels-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        /* Loading and Empty States */
        .loading {
            text-align: center;
            padding: 40px;
            color: #6c757d;
            font-size: 16px;
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            color: #6c757d;
        }
        
        .no-results h3 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        /* Accessibility Improvements */
        .filter-btn:focus,
        .search-button:focus,
        .action-btn:focus {
            outline: 2px solid #667eea;
            outline-offset: 2px;
        }
        
        /* Animation for smooth transitions */
        .hotel-card,
        .filter-btn,
        .action-btn {
            will-change: transform;
        }
    </style>
    
</head>
                <body style="font-family: Arial, sans-serif; padding: 20px;">
                    ${historyHtml}
                </body>
                </html>
            `);
        }
        
        function showVisitHistory(hotelName) {
            try {
                // Get all visits for this hotel from localStorage
                const visitsIndex = JSON.parse(localStorage.getItem('oscar_visits_index') || '[]');
                const hotelVisits = visitsIndex.filter(visit => 
                    visit.hotelName.toLowerCase() === hotelName.toLowerCase()
                );
                
                // Get hotel statistics
                const hotelStats = JSON.parse(localStorage.getItem('oscar_hotel_stats') || '{}');
                const stats = hotelStats[hotelName] || {
                    totalVisits: 0,
                    successfulMeetings: 0,
                    followUpRequired: 0,
                    notInterested: 0,
                    rescheduleNeeded: 0
                };
                
                // Create visit history modal
                const modal = document.createElement('div');
                modal.id = 'visitHistoryModal';
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.8);
                    z-index: 10000;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    padding: 20px;
                    box-sizing: border-box;
                `;
                
                const modalContent = document.createElement('div');
                modalContent.style.cssText = `
                    background: white;
                    border-radius: 15px;
                    max-width: 800px;
                    width: 100%;
                    max-height: 90vh;
                    overflow-y: auto;
                    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
                `;
                
                // Create visit history content
                let historyHTML = `
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 15px 15px 0 0;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <h2 style="margin: 0; font-size: 24px;">📋 Visit History: ${hotelName}</h2>
                            <button onclick="closeVisitHistory()" style="background: rgba(255,255,255,0.2); color: white; border: none; padding: 8px 15px; border-radius: 20px; cursor: pointer; font-size: 16px;">✕ Close</button>
                        </div>
                    </div>
                    
                    <div style="padding: 25px;">
                        <!-- Statistics Summary -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 25px;">
                            <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: #1976d2;">${stats.totalVisits}</div>
                                <div style="color: #666; font-size: 14px;">Total Visits</div>
                            </div>
                            <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: #388e3c;">${stats.successfulMeetings}</div>
                                <div style="color: #666; font-size: 14px;">Successful</div>
                            </div>
                            <div style="background: #fff3e0; padding: 15px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: #f57c00;">${stats.followUpRequired}</div>
                                <div style="color: #666; font-size: 14px;">Follow-up</div>
                            </div>
                            <div style="background: #fce4ec; padding: 15px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: #c2185b;">${stats.notInterested}</div>
                                <div style="color: #666; font-size: 14px;">Not Interested</div>
                            </div>
                        </div>
                `;
                
                if (hotelVisits.length === 0) {
                    historyHTML += `
                        <div style="text-align: center; padding: 40px; color: #666;">
                            <div style="font-size: 48px; margin-bottom: 15px;">📝</div>
                            <h3>No Visit History Yet</h3>
                            <p>This hotel hasn't been visited yet. Start by creating a new visit form!</p>
                            <button onclick="createNewVisit('${hotelName}')" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-size: 16px; margin-top: 15px;">
                                📋 Create New Visit
                            </button>
                        </div>
                    `;
                } else {
                    historyHTML += `
                        <h3 style="color: #333; margin-bottom: 20px;">📅 Visit Records (${hotelVisits.length})</h3>
                        <div style="space-y: 15px;">
                    `;
                    
                    // Sort visits by date (newest first)
                    hotelVisits.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
                    
                    hotelVisits.forEach((visit, index) => {
                        const visitDate = new Date(visit.visitDateTime || visit.createdAt);
                        const formattedDate = visitDate.toLocaleDateString('en-GB', {
                            weekday: 'short',
                            year: 'numeric',
                            month: 'short',
                            day: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        });
                        
                        const outcomeColor = {
                            'Successful Meeting': '#4caf50',
                            'Follow-up Required': '#ff9800',
                            'Not Interested': '#f44336',
                            'Reschedule Needed': '#2196f3'
                        }[visit.visitOutcome] || '#666';
                        
                        historyHTML += `
                            <div style="border: 1px solid #e0e0e0; border-radius: 10px; padding: 20px; margin-bottom: 15px; background: #fafafa;">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                                    <div>
                                        <h4 style="margin: 0; color: #333; font-size: 16px;">👤 ${visit.contactName || 'Unknown Contact'}</h4>
                                        <p style="margin: 5px 0; color: #666; font-size: 14px;">📅 ${formattedDate}</p>
                                    </div>
                                    <span style="background: ${outcomeColor}; color: white; padding: 4px 12px; border-radius: 15px; font-size: 12px; font-weight: bold;">
                                        ${visit.visitOutcome}
                                    </span>
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; font-size: 14px; color: #666;">
                                    <div><strong>Visit ID:</strong> ${visit.visitId.split('_')[1]}</div>
                                    <div><strong>Created:</strong> ${new Date(visit.createdAt).toLocaleDateString()}</div>
                                </div>
                                <div style="margin-top: 15px;">
                                    <button onclick="viewVisitDetails('${visit.visitId}')" style="background: #2196f3; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-size: 12px; margin-right: 10px;">
                                        👁️ View Details
                                    </button>
                                    <button onclick="editVisit('${visit.visitId}')" style="background: #ff9800; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-size: 12px; margin-right: 10px;">
                                        ✏️ Edit
                                    </button>
                                    <button onclick="deleteVisit('${visit.visitId}')" style="background: #f44336; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-size: 12px;">
                                        🗑️ Delete
                                    </button>
                                </div>
                            </div>
                        `;
                    });
                    
                    historyHTML += `
                        </div>
                        <div style="text-align: center; margin-top: 25px;">
                            <button onclick="createNewVisit('${hotelName}')" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-size: 16px;">
                                ➕ Add New Visit
                            </button>
                        </div>
                    `;
                }
                
                historyHTML += `
                    </div>
                `;
                
                modalContent.innerHTML = historyHTML;
                modal.appendChild(modalContent);
                document.body.appendChild(modal);
                
                // Add click outside to close
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        closeVisitHistory();
                    }
                });
                
            } catch (error) {
                console.error('Error showing visit history:', error);
                alert('Error loading visit history. Please try again.');
            }
        }
        
        function closeVisitHistory() {
            const modal = document.getElementById('visitHistoryModal');
            if (modal) {
                modal.remove();
            }
        }
        
        function viewVisitDetails(visitId) {
            try {
                const visitData = JSON.parse(localStorage.getItem(visitId));
                if (!visitData) {
                    alert('Visit details not found.');
                    return;
                }
                
                const detailsHTML = `
                    <div style="background: white; padding: 20px; border-radius: 10px; max-width: 600px; margin: 20px auto;">
                        <h3>📋 Visit Details</h3>
                        <div style="display: grid; gap: 10px; font-size: 14px;">
                            <div><strong>Hotel:</strong> ${visitData.hotelName}</div>
                            <div><strong>Contact:</strong> ${visitData.contactName}</div>
                            <div><strong>Role:</strong> ${visitData.contactRole || 'N/A'}</div>
                            <div><strong>Email:</strong> ${visitData.contactEmail || 'N/A'}</div>
                            <div><strong>Phone:</strong> ${visitData.contactPhone || 'N/A'}</div>
                            <div><strong>Visit Date:</strong> ${visitData.visitDateTime ? new Date(visitData.visitDateTime).toLocaleString() : 'N/A'}</div>
                            <div><strong>Outcome:</strong> ${visitData.visitOutcome}</div>
                            <div><strong>Summary:</strong> ${visitData.visitSummary || 'No summary provided'}</div>
                            <div><strong>Next Visit:</strong> ${visitData.nextVisitDate || 'Not scheduled'}</div>
                        </div>
                        <button onclick="closeVisitHistory()" style="background: #667eea; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 15px;">
                            Close
                        </button>
                    </div>
                `;
                
                const modal = document.getElementById('visitHistoryModal');
                if (modal) {
                    modal.querySelector('div').innerHTML = detailsHTML;
                }
            } catch (error) {
                console.error('Error viewing visit details:', error);
                alert('Error loading visit details.');
            }
        }
        
        function editVisit(visitId) {
            try {
                const visitData = JSON.parse(localStorage.getItem(visitId));
                if (!visitData) {
                    alert('Visit data not found.');
                    return;
                }
                
                // Navigate to the appropriate form with the visit data
                const hotelFormName = visitData.hotelName.toLowerCase().replace(/[^a-z0-9]/g, '_') + '_form.html';
                const formUrl = `forms/${hotelFormName}?edit=${visitId}`;
                
                window.location.href = formUrl;
            } catch (error) {
                console.error('Error editing visit:', error);
                alert('Error opening visit for editing.');
            }
        }
        
        function deleteVisit(visitId) {
            if (confirm('Are you sure you want to delete this visit record? This action cannot be undone.')) {
                try {
                    // Remove from localStorage
                    localStorage.removeItem(visitId);
                    
                    // Update visits index
                    let visitsIndex = JSON.parse(localStorage.getItem('oscar_visits_index') || '[]');
                    visitsIndex = visitsIndex.filter(visit => visit.visitId !== visitId);
                    localStorage.setItem('oscar_visits_index', JSON.stringify(visitsIndex));
                    
                    // Refresh the history display
                    closeVisitHistory();
                    setTimeout(() => {
                        const hotelName = visitId.includes('_') ? 'Hotel' : 'Hotel'; // Get hotel name from context
                        // We'll need to get the hotel name from the current context
                    }, 100);
                    
                    alert('Visit record deleted successfully.');
                } catch (error) {
                    console.error('Error deleting visit:', error);
                    alert('Error deleting visit record.');
                }
            }
        }
        
        function createNewVisit(hotelName) {
            try {
                const hotelFormName = hotelName.toLowerCase().replace(/[^a-z0-9]/g, '_') + '_form.html';
                window.location.href = `forms/${hotelFormName}`;
            } catch (error) {
                console.error('Error creating new visit:', error);
                alert('Error opening new visit form.');
            }
        }
        
</script>
        
</body>
</html>
